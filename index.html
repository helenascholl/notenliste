<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Notenliste</title>
  </head>
  <body onload="declareForm()">

    <form>
      <select id="klasse" onchange="refreshForm()"></select>
      <select id="schueler"></select>
      <select id="fach"></select>
      <select id="note">
        <option disabled selected>Note</option>
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
      </select>
      <button onclick="assignMark()">Eintragen</button>
    </form>

    <div id="wrapper"></div>

    <script src="./js/daten.js"></script>
    <script>

      function declareForm() {

        for (let i in klassen) {
          for (let j in schueler[i]) {
            klassen[i][schueler[i][j]] = new Array();
            for (let k in faecher[i.charAt(0) + '. Klassen']) {
              klassen[i][schueler[i][j]][faecher[i.charAt(0) + '. Klassen'][k]] = undefined;
            }
          }
        }

        let codeKlassen = '<option disabled selected>Klasse</option>';
        for (let i in klassen) {
          codeKlassen += '<option value="' + i + '">' + i + '</option>';
        }
        document.getElementById('klasse').innerHTML = codeKlassen;

        refreshForm();

      }

      function refreshForm() {

        let codeSchueler = '<option disabled selected>Sch√ºler</option>';
        let codeFaecher = '<option disabled selected>Fach</option>';

        for (let i in klassen[document.getElementById('klasse').value]) {
          codeSchueler += '<option value="' + i + '">' + i + '</option>';
        }
        document.getElementById('schueler').innerHTML = codeSchueler;

        for (let i in faecher[document.getElementById('klasse').value.charAt(0) + '. Klassen']) {
          codeFaecher += '<option value="' + i + '">' + i + '</option>';
        }
        document.getElementById('fach').innerHTML = codeFaecher;

        

            /*document.write('<select>');
            for (let i in klassen[document.getElementById('klassen').value]['Faecher']) {
              document.write('<option>' + i + '</option>');
            }
            document.write('</select>');

            document.write('<select>');
            for (let i in klassen[document.getElementById('klassen').value]['Schueler']) {
              document.write('<option>' + i + '</option>');
            }
            document.write('</select>');*/
      }

      function assignMark() {

        var klasseValue = document.getElementById('klasse').value;
        var schuelerValue = document.getElementById('schueler').value;
        var fachValue = document.getElementById('fach').value;
        var noteValue = document.getElementById('note').value;

        klassen[klasseValue][schuelerValue][fachValue] = noteValue;

        //printMarks();

      }

      function printMarks() {

        /*let klasse = document.getElementById('klasse').value;
        let schueler = document.getElementById('schueler').value;
        let fach = document.getElementById('fach').value;
        let note = document.getElementById('note').value;*/

        let innerHTML = document.getElementById('wrapper').value;

        for (let i in klassen) {
          innerHTML += '<p>' + klassen[i] + '</p>';
          for (let j in klassen[i]) {
            innerHTML += '<p>' + klassen[i][j] + '</p>';
            for (let k in klassen[i][j]) {
              innerHTML += '<p>' + klassen[i][j][k] + '</p>';
              for (let l in klassen[i][j][k]) {
                innerHTML += '<p>' + klassen[i][j][k][l] + '</p>';
              }
            }
          }
        }

        document.getElementById('wrapper').innerHTML = innerHTML;

      }

      /*array["Dorfi"] = "";
      array["Fuchs"] = "";
      array["Lukas"] = "";

      for (let i in array) {
        array[i] = new Array();
        array[i]["MEDT"] = 2;
        array[i]["DE"] = 3;
        array[i]["MEDPR"] = 5;
        array[i]["EN"] = 4;
        array[i]["SEW"] = 1;
      }

      document.write("<table><tr>");
      for (let i in array) {
        document.write("<th>" + i + "</th>");
      }
      document.write("</tr>");

      for (let i in array) {

        document.write("<tr>");
        for (let j in array[i]) {
          document.write("<tb>" + j + ": " + array[i][j] + "</tb>");
        }
        document.write("</tr>");

      }
      document.write("</table>");*/

    </script>
  </body>
</html>
